---
import { HEADER_LINKS, SITE } from '~/config'
import ThemeToggle from '~/components/theme/ThemeToggle'
import HeaderGradient from '~/components/theme/HeaderGradient.astro'
import SectionDivider from '~/components/base/SectionDivider.astro'
import HeaderLink from '~/components/base/HeaderLink.astro'
import SearchSwitch from '~/components/base/SearchSwitch.astro'
import { Image } from 'astro:assets'
import logo from '../../public/logo.png'

const base = SITE.base
---

<HeaderGradient />
<header>
  <div class="mx-auto global-layout-width flex justify-between px-6 sm:px-8 py-4 lg:px-8">
    <div class="flex gap-3 sm:gap-6 items-center flex-shrink-0">
      <a href={`${base}/`} class="pointer-events-auto select-none flex items-center gap-2" transition:persist>
        <Image
          src={logo}
          width={36}
          height={36}
          alt="Claude Signal"
          class="w-9 h-9"
          densities={[1, 2]}
        />
        <span class="font-semibold text-lg hidden sm:inline bg-gradient-to-r from-primary to-purple-400 bg-clip-text text-transparent">
          Claude Signal
        </span>
      </a>
      <div class="flex gap-1">
        {
          HEADER_LINKS.map((link) => (
            <HeaderLink href={link.url} background>
              {link.name}
            </HeaderLink>
          ))
        }
      </div>
    </div>
    <div class="flex gap-2 items-center" transition:persist="header-theme-toggle">
      <SearchSwitch />
      <a
        href={`${base}/atom.xml`}
        target="_blank"
        class="inline-flex items-center hover:scale-105 size-5 origin-center"
        aria-label="RSS Feed"
        title="RSS Feed"
      >
        <span class="icon-[material-symbols--rss-feed] size-5"></span>
      </a>
      <ThemeToggle client:load />
    </div>
  </div>
  <div class="relative global-layout-width mx-auto pointer-events-none">
    <div aria-hidden="true" class="absolute inset-x-0 -top-14 bottom-0 mx-auto global-layout-width">
      <div class="to-(--color-border)/50 absolute bottom-0 left-0 top-0 w-px bg-gradient-to-b from-transparent to-75%"></div>
      <div class="to-(--color-border)/50 absolute bottom-0 right-0 top-0 w-px bg-gradient-to-b from-transparent to-75%"></div>
    </div>
  </div>
</header>

<SectionDivider className="border-t-border dark:border-t-border/50" />
